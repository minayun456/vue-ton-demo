import{r as t,o as e,c as n,w as r,a as o,b as i,t as s,i as a,d as c,e as l,f as h,g as u}from"./index-BOlZpOHb.js";var f="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function y(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function p(t){if(t.__esModule)return t;var e=t.default;if("function"==typeof e){var n=function t(){return this instanceof t?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var r=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,r.get?r:{enumerable:!0,get:function(){return t[e]}})})),n}var d,g,w;g=f,w=function(){var t={};function e(t){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(t))throw new TypeError("invalid encoding")}return t.decodeUTF8=function(t){if("string"!=typeof t)throw new TypeError("expected string");var e,n=unescape(encodeURIComponent(t)),r=new Uint8Array(n.length);for(e=0;e<n.length;e++)r[e]=n.charCodeAt(e);return r},t.encodeUTF8=function(t){var e,n=[];for(e=0;e<t.length;e++)n.push(String.fromCharCode(t[e]));return decodeURIComponent(escape(n.join("")))},"undefined"==typeof atob?void 0!==Buffer.from?(t.encodeBase64=function(t){return Buffer.from(t).toString("base64")},t.decodeBase64=function(t){return e(t),new Uint8Array(Array.prototype.slice.call(Buffer.from(t,"base64"),0))}):(t.encodeBase64=function(t){return new Buffer(t).toString("base64")},t.decodeBase64=function(t){return e(t),new Uint8Array(Array.prototype.slice.call(new Buffer(t,"base64"),0))}):(t.encodeBase64=function(t){var e,n=[],r=t.length;for(e=0;e<r;e++)n.push(String.fromCharCode(t[e]));return btoa(n.join(""))},t.decodeBase64=function(t){e(t);var n,r=atob(t),o=new Uint8Array(r.length);for(n=0;n<r.length;n++)o[n]=r.charCodeAt(n);return o}),t},(d={exports:{}}).exports?d.exports=w():(g.nacl||(g.nacl={}),g.nacl.util=w());var R={exports:{}};const b=p(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));!function(t){var e=function(t){var e,n=new Float64Array(16);if(t)for(e=0;e<t.length;e++)n[e]=t[e];return n},n=function(){throw new Error("no PRNG")},r=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var i=e(),s=e([1]),a=e([56129,1]),c=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),u=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function y(t,e,n,r){t[e]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n,t[e+4]=r>>24&255,t[e+5]=r>>16&255,t[e+6]=r>>8&255,t[e+7]=255&r}function p(t,e,n,r,o){var i,s=0;for(i=0;i<o;i++)s|=t[e+i]^n[r+i];return(1&s-1>>>8)-1}function d(t,e,n,r){return p(t,e,n,r,16)}function g(t,e,n,r){return p(t,e,n,r,32)}function w(t,e,n,r){!function(t,e,n,r){for(var o,i=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,l=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,h=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,f=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,y=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,d=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,g=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,w=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,R=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,b=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,A=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,m=i,E=s,v=a,O=c,_=l,T=h,N=u,U=f,C=y,S=p,I=d,j=g,W=w,x=R,P=b,k=A,L=0;L<20;L+=2)m^=(o=(W^=(o=(C^=(o=(_^=(o=m+W|0)<<7|o>>>25)+m|0)<<9|o>>>23)+_|0)<<13|o>>>19)+C|0)<<18|o>>>14,T^=(o=(E^=(o=(x^=(o=(S^=(o=T+E|0)<<7|o>>>25)+T|0)<<9|o>>>23)+S|0)<<13|o>>>19)+x|0)<<18|o>>>14,I^=(o=(N^=(o=(v^=(o=(P^=(o=I+N|0)<<7|o>>>25)+I|0)<<9|o>>>23)+P|0)<<13|o>>>19)+v|0)<<18|o>>>14,k^=(o=(j^=(o=(U^=(o=(O^=(o=k+j|0)<<7|o>>>25)+k|0)<<9|o>>>23)+O|0)<<13|o>>>19)+U|0)<<18|o>>>14,m^=(o=(O^=(o=(v^=(o=(E^=(o=m+O|0)<<7|o>>>25)+m|0)<<9|o>>>23)+E|0)<<13|o>>>19)+v|0)<<18|o>>>14,T^=(o=(_^=(o=(U^=(o=(N^=(o=T+_|0)<<7|o>>>25)+T|0)<<9|o>>>23)+N|0)<<13|o>>>19)+U|0)<<18|o>>>14,I^=(o=(S^=(o=(C^=(o=(j^=(o=I+S|0)<<7|o>>>25)+I|0)<<9|o>>>23)+j|0)<<13|o>>>19)+C|0)<<18|o>>>14,k^=(o=(P^=(o=(x^=(o=(W^=(o=k+P|0)<<7|o>>>25)+k|0)<<9|o>>>23)+W|0)<<13|o>>>19)+x|0)<<18|o>>>14;m=m+i|0,E=E+s|0,v=v+a|0,O=O+c|0,_=_+l|0,T=T+h|0,N=N+u|0,U=U+f|0,C=C+y|0,S=S+p|0,I=I+d|0,j=j+g|0,W=W+w|0,x=x+R|0,P=P+b|0,k=k+A|0,t[0]=m>>>0&255,t[1]=m>>>8&255,t[2]=m>>>16&255,t[3]=m>>>24&255,t[4]=E>>>0&255,t[5]=E>>>8&255,t[6]=E>>>16&255,t[7]=E>>>24&255,t[8]=v>>>0&255,t[9]=v>>>8&255,t[10]=v>>>16&255,t[11]=v>>>24&255,t[12]=O>>>0&255,t[13]=O>>>8&255,t[14]=O>>>16&255,t[15]=O>>>24&255,t[16]=_>>>0&255,t[17]=_>>>8&255,t[18]=_>>>16&255,t[19]=_>>>24&255,t[20]=T>>>0&255,t[21]=T>>>8&255,t[22]=T>>>16&255,t[23]=T>>>24&255,t[24]=N>>>0&255,t[25]=N>>>8&255,t[26]=N>>>16&255,t[27]=N>>>24&255,t[28]=U>>>0&255,t[29]=U>>>8&255,t[30]=U>>>16&255,t[31]=U>>>24&255,t[32]=C>>>0&255,t[33]=C>>>8&255,t[34]=C>>>16&255,t[35]=C>>>24&255,t[36]=S>>>0&255,t[37]=S>>>8&255,t[38]=S>>>16&255,t[39]=S>>>24&255,t[40]=I>>>0&255,t[41]=I>>>8&255,t[42]=I>>>16&255,t[43]=I>>>24&255,t[44]=j>>>0&255,t[45]=j>>>8&255,t[46]=j>>>16&255,t[47]=j>>>24&255,t[48]=W>>>0&255,t[49]=W>>>8&255,t[50]=W>>>16&255,t[51]=W>>>24&255,t[52]=x>>>0&255,t[53]=x>>>8&255,t[54]=x>>>16&255,t[55]=x>>>24&255,t[56]=P>>>0&255,t[57]=P>>>8&255,t[58]=P>>>16&255,t[59]=P>>>24&255,t[60]=k>>>0&255,t[61]=k>>>8&255,t[62]=k>>>16&255,t[63]=k>>>24&255}(t,e,n,r)}function R(t,e,n,r){!function(t,e,n,r){for(var o,i=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,l=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,h=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,f=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,y=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,d=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,g=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,w=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,R=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,b=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,A=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,m=0;m<20;m+=2)i^=(o=(w^=(o=(y^=(o=(l^=(o=i+w|0)<<7|o>>>25)+i|0)<<9|o>>>23)+l|0)<<13|o>>>19)+y|0)<<18|o>>>14,h^=(o=(s^=(o=(R^=(o=(p^=(o=h+s|0)<<7|o>>>25)+h|0)<<9|o>>>23)+p|0)<<13|o>>>19)+R|0)<<18|o>>>14,d^=(o=(u^=(o=(a^=(o=(b^=(o=d+u|0)<<7|o>>>25)+d|0)<<9|o>>>23)+b|0)<<13|o>>>19)+a|0)<<18|o>>>14,A^=(o=(g^=(o=(f^=(o=(c^=(o=A+g|0)<<7|o>>>25)+A|0)<<9|o>>>23)+c|0)<<13|o>>>19)+f|0)<<18|o>>>14,i^=(o=(c^=(o=(a^=(o=(s^=(o=i+c|0)<<7|o>>>25)+i|0)<<9|o>>>23)+s|0)<<13|o>>>19)+a|0)<<18|o>>>14,h^=(o=(l^=(o=(f^=(o=(u^=(o=h+l|0)<<7|o>>>25)+h|0)<<9|o>>>23)+u|0)<<13|o>>>19)+f|0)<<18|o>>>14,d^=(o=(p^=(o=(y^=(o=(g^=(o=d+p|0)<<7|o>>>25)+d|0)<<9|o>>>23)+g|0)<<13|o>>>19)+y|0)<<18|o>>>14,A^=(o=(b^=(o=(R^=(o=(w^=(o=A+b|0)<<7|o>>>25)+A|0)<<9|o>>>23)+w|0)<<13|o>>>19)+R|0)<<18|o>>>14;t[0]=i>>>0&255,t[1]=i>>>8&255,t[2]=i>>>16&255,t[3]=i>>>24&255,t[4]=h>>>0&255,t[5]=h>>>8&255,t[6]=h>>>16&255,t[7]=h>>>24&255,t[8]=d>>>0&255,t[9]=d>>>8&255,t[10]=d>>>16&255,t[11]=d>>>24&255,t[12]=A>>>0&255,t[13]=A>>>8&255,t[14]=A>>>16&255,t[15]=A>>>24&255,t[16]=u>>>0&255,t[17]=u>>>8&255,t[18]=u>>>16&255,t[19]=u>>>24&255,t[20]=f>>>0&255,t[21]=f>>>8&255,t[22]=f>>>16&255,t[23]=f>>>24&255,t[24]=y>>>0&255,t[25]=y>>>8&255,t[26]=y>>>16&255,t[27]=y>>>24&255,t[28]=p>>>0&255,t[29]=p>>>8&255,t[30]=p>>>16&255,t[31]=p>>>24&255}(t,e,n,r)}var A=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function m(t,e,n,r,o,i,s){var a,c,l=new Uint8Array(16),h=new Uint8Array(64);for(c=0;c<16;c++)l[c]=0;for(c=0;c<8;c++)l[c]=i[c];for(;o>=64;){for(w(h,l,s,A),c=0;c<64;c++)t[e+c]=n[r+c]^h[c];for(a=1,c=8;c<16;c++)a=a+(255&l[c])|0,l[c]=255&a,a>>>=8;o-=64,e+=64,r+=64}if(o>0)for(w(h,l,s,A),c=0;c<o;c++)t[e+c]=n[r+c]^h[c];return 0}function E(t,e,n,r,o){var i,s,a=new Uint8Array(16),c=new Uint8Array(64);for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=r[s];for(;n>=64;){for(w(c,a,o,A),s=0;s<64;s++)t[e+s]=c[s];for(i=1,s=8;s<16;s++)i=i+(255&a[s])|0,a[s]=255&i,i>>>=8;n-=64,e+=64}if(n>0)for(w(c,a,o,A),s=0;s<n;s++)t[e+s]=c[s];return 0}function v(t,e,n,r,o){var i=new Uint8Array(32);R(i,r,o,A);for(var s=new Uint8Array(8),a=0;a<8;a++)s[a]=r[a+16];return E(t,e,n,s,i)}function O(t,e,n,r,o,i,s){var a=new Uint8Array(32);R(a,i,s,A);for(var c=new Uint8Array(8),l=0;l<8;l++)c[l]=i[l+16];return m(t,e,n,r,o,c,a)}var _=function(t){var e,n,r,o,i,s,a,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,n=255&t[2]|(255&t[3])<<8,this.r[1]=8191&(e>>>13|n<<3),r=255&t[4]|(255&t[5])<<8,this.r[2]=7939&(n>>>10|r<<6),o=255&t[6]|(255&t[7])<<8,this.r[3]=8191&(r>>>7|o<<9),i=255&t[8]|(255&t[9])<<8,this.r[4]=255&(o>>>4|i<<12),this.r[5]=i>>>1&8190,s=255&t[10]|(255&t[11])<<8,this.r[6]=8191&(i>>>14|s<<2),a=255&t[12]|(255&t[13])<<8,this.r[7]=8065&(s>>>11|a<<5),c=255&t[14]|(255&t[15])<<8,this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};function T(t,e,n,r,o,i){var s=new _(i);return s.update(n,r,o),s.finish(t,e),0}function N(t,e,n,r,o,i){var s=new Uint8Array(16);return T(s,0,n,r,o,i),d(t,e,s,0)}function U(t,e,n,r,o){var i;if(n<32)return-1;for(O(t,0,e,0,n,r,o),T(t,16,t,32,n-32,t),i=0;i<16;i++)t[i]=0;return 0}function C(t,e,n,r,o){var i,s=new Uint8Array(32);if(n<32)return-1;if(v(s,0,32,r,o),0!==N(e,16,e,32,n-32,s))return-1;for(O(t,0,e,0,n,r,o),i=0;i<32;i++)t[i]=0;return 0}function S(t,e){var n;for(n=0;n<16;n++)t[n]=0|e[n]}function I(t){var e,n,r=1;for(e=0;e<16;e++)n=t[e]+r+65535,r=Math.floor(n/65536),t[e]=n-65536*r;t[0]+=r-1+37*(r-1)}function j(t,e,n){for(var r,o=~(n-1),i=0;i<16;i++)r=o&(t[i]^e[i]),t[i]^=r,e[i]^=r}function W(t,n){var r,o,i,s=e(),a=e();for(r=0;r<16;r++)a[r]=n[r];for(I(a),I(a),I(a),o=0;o<2;o++){for(s[0]=a[0]-65517,r=1;r<15;r++)s[r]=a[r]-65535-(s[r-1]>>16&1),s[r-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),i=s[15]>>16&1,s[14]&=65535,j(a,s,1-i)}for(r=0;r<16;r++)t[2*r]=255&a[r],t[2*r+1]=a[r]>>8}function x(t,e){var n=new Uint8Array(32),r=new Uint8Array(32);return W(n,t),W(r,e),g(n,0,r,0)}function P(t){var e=new Uint8Array(32);return W(e,t),1&e[0]}function k(t,e){var n;for(n=0;n<16;n++)t[n]=e[2*n]+(e[2*n+1]<<8);t[15]&=32767}function L(t,e,n){for(var r=0;r<16;r++)t[r]=e[r]+n[r]}function B(t,e,n){for(var r=0;r<16;r++)t[r]=e[r]-n[r]}function M(t,e,n){var r,o,i=0,s=0,a=0,c=0,l=0,h=0,u=0,f=0,y=0,p=0,d=0,g=0,w=0,R=0,b=0,A=0,m=0,E=0,v=0,O=0,_=0,T=0,N=0,U=0,C=0,S=0,I=0,j=0,W=0,x=0,P=0,k=n[0],L=n[1],B=n[2],M=n[3],K=n[4],D=n[5],Q=n[6],z=n[7],Y=n[8],Z=n[9],J=n[10],F=n[11],G=n[12],V=n[13],H=n[14],q=n[15];i+=(r=e[0])*k,s+=r*L,a+=r*B,c+=r*M,l+=r*K,h+=r*D,u+=r*Q,f+=r*z,y+=r*Y,p+=r*Z,d+=r*J,g+=r*F,w+=r*G,R+=r*V,b+=r*H,A+=r*q,s+=(r=e[1])*k,a+=r*L,c+=r*B,l+=r*M,h+=r*K,u+=r*D,f+=r*Q,y+=r*z,p+=r*Y,d+=r*Z,g+=r*J,w+=r*F,R+=r*G,b+=r*V,A+=r*H,m+=r*q,a+=(r=e[2])*k,c+=r*L,l+=r*B,h+=r*M,u+=r*K,f+=r*D,y+=r*Q,p+=r*z,d+=r*Y,g+=r*Z,w+=r*J,R+=r*F,b+=r*G,A+=r*V,m+=r*H,E+=r*q,c+=(r=e[3])*k,l+=r*L,h+=r*B,u+=r*M,f+=r*K,y+=r*D,p+=r*Q,d+=r*z,g+=r*Y,w+=r*Z,R+=r*J,b+=r*F,A+=r*G,m+=r*V,E+=r*H,v+=r*q,l+=(r=e[4])*k,h+=r*L,u+=r*B,f+=r*M,y+=r*K,p+=r*D,d+=r*Q,g+=r*z,w+=r*Y,R+=r*Z,b+=r*J,A+=r*F,m+=r*G,E+=r*V,v+=r*H,O+=r*q,h+=(r=e[5])*k,u+=r*L,f+=r*B,y+=r*M,p+=r*K,d+=r*D,g+=r*Q,w+=r*z,R+=r*Y,b+=r*Z,A+=r*J,m+=r*F,E+=r*G,v+=r*V,O+=r*H,_+=r*q,u+=(r=e[6])*k,f+=r*L,y+=r*B,p+=r*M,d+=r*K,g+=r*D,w+=r*Q,R+=r*z,b+=r*Y,A+=r*Z,m+=r*J,E+=r*F,v+=r*G,O+=r*V,_+=r*H,T+=r*q,f+=(r=e[7])*k,y+=r*L,p+=r*B,d+=r*M,g+=r*K,w+=r*D,R+=r*Q,b+=r*z,A+=r*Y,m+=r*Z,E+=r*J,v+=r*F,O+=r*G,_+=r*V,T+=r*H,N+=r*q,y+=(r=e[8])*k,p+=r*L,d+=r*B,g+=r*M,w+=r*K,R+=r*D,b+=r*Q,A+=r*z,m+=r*Y,E+=r*Z,v+=r*J,O+=r*F,_+=r*G,T+=r*V,N+=r*H,U+=r*q,p+=(r=e[9])*k,d+=r*L,g+=r*B,w+=r*M,R+=r*K,b+=r*D,A+=r*Q,m+=r*z,E+=r*Y,v+=r*Z,O+=r*J,_+=r*F,T+=r*G,N+=r*V,U+=r*H,C+=r*q,d+=(r=e[10])*k,g+=r*L,w+=r*B,R+=r*M,b+=r*K,A+=r*D,m+=r*Q,E+=r*z,v+=r*Y,O+=r*Z,_+=r*J,T+=r*F,N+=r*G,U+=r*V,C+=r*H,S+=r*q,g+=(r=e[11])*k,w+=r*L,R+=r*B,b+=r*M,A+=r*K,m+=r*D,E+=r*Q,v+=r*z,O+=r*Y,_+=r*Z,T+=r*J,N+=r*F,U+=r*G,C+=r*V,S+=r*H,I+=r*q,w+=(r=e[12])*k,R+=r*L,b+=r*B,A+=r*M,m+=r*K,E+=r*D,v+=r*Q,O+=r*z,_+=r*Y,T+=r*Z,N+=r*J,U+=r*F,C+=r*G,S+=r*V,I+=r*H,j+=r*q,R+=(r=e[13])*k,b+=r*L,A+=r*B,m+=r*M,E+=r*K,v+=r*D,O+=r*Q,_+=r*z,T+=r*Y,N+=r*Z,U+=r*J,C+=r*F,S+=r*G,I+=r*V,j+=r*H,W+=r*q,b+=(r=e[14])*k,A+=r*L,m+=r*B,E+=r*M,v+=r*K,O+=r*D,_+=r*Q,T+=r*z,N+=r*Y,U+=r*Z,C+=r*J,S+=r*F,I+=r*G,j+=r*V,W+=r*H,x+=r*q,A+=(r=e[15])*k,s+=38*(E+=r*B),a+=38*(v+=r*M),c+=38*(O+=r*K),l+=38*(_+=r*D),h+=38*(T+=r*Q),u+=38*(N+=r*z),f+=38*(U+=r*Y),y+=38*(C+=r*Z),p+=38*(S+=r*J),d+=38*(I+=r*F),g+=38*(j+=r*G),w+=38*(W+=r*V),R+=38*(x+=r*H),b+=38*(P+=r*q),i=(r=(i+=38*(m+=r*L))+(o=1)+65535)-65536*(o=Math.floor(r/65536)),s=(r=s+o+65535)-65536*(o=Math.floor(r/65536)),a=(r=a+o+65535)-65536*(o=Math.floor(r/65536)),c=(r=c+o+65535)-65536*(o=Math.floor(r/65536)),l=(r=l+o+65535)-65536*(o=Math.floor(r/65536)),h=(r=h+o+65535)-65536*(o=Math.floor(r/65536)),u=(r=u+o+65535)-65536*(o=Math.floor(r/65536)),f=(r=f+o+65535)-65536*(o=Math.floor(r/65536)),y=(r=y+o+65535)-65536*(o=Math.floor(r/65536)),p=(r=p+o+65535)-65536*(o=Math.floor(r/65536)),d=(r=d+o+65535)-65536*(o=Math.floor(r/65536)),g=(r=g+o+65535)-65536*(o=Math.floor(r/65536)),w=(r=w+o+65535)-65536*(o=Math.floor(r/65536)),R=(r=R+o+65535)-65536*(o=Math.floor(r/65536)),b=(r=b+o+65535)-65536*(o=Math.floor(r/65536)),A=(r=A+o+65535)-65536*(o=Math.floor(r/65536)),i=(r=(i+=o-1+37*(o-1))+(o=1)+65535)-65536*(o=Math.floor(r/65536)),s=(r=s+o+65535)-65536*(o=Math.floor(r/65536)),a=(r=a+o+65535)-65536*(o=Math.floor(r/65536)),c=(r=c+o+65535)-65536*(o=Math.floor(r/65536)),l=(r=l+o+65535)-65536*(o=Math.floor(r/65536)),h=(r=h+o+65535)-65536*(o=Math.floor(r/65536)),u=(r=u+o+65535)-65536*(o=Math.floor(r/65536)),f=(r=f+o+65535)-65536*(o=Math.floor(r/65536)),y=(r=y+o+65535)-65536*(o=Math.floor(r/65536)),p=(r=p+o+65535)-65536*(o=Math.floor(r/65536)),d=(r=d+o+65535)-65536*(o=Math.floor(r/65536)),g=(r=g+o+65535)-65536*(o=Math.floor(r/65536)),w=(r=w+o+65535)-65536*(o=Math.floor(r/65536)),R=(r=R+o+65535)-65536*(o=Math.floor(r/65536)),b=(r=b+o+65535)-65536*(o=Math.floor(r/65536)),A=(r=A+o+65535)-65536*(o=Math.floor(r/65536)),i+=o-1+37*(o-1),t[0]=i,t[1]=s,t[2]=a,t[3]=c,t[4]=l,t[5]=h,t[6]=u,t[7]=f,t[8]=y,t[9]=p,t[10]=d,t[11]=g,t[12]=w,t[13]=R,t[14]=b,t[15]=A}function K(t,e){M(t,e,e)}function D(t,n){var r,o=e();for(r=0;r<16;r++)o[r]=n[r];for(r=253;r>=0;r--)K(o,o),2!==r&&4!==r&&M(o,o,n);for(r=0;r<16;r++)t[r]=o[r]}function Q(t,n){var r,o=e();for(r=0;r<16;r++)o[r]=n[r];for(r=250;r>=0;r--)K(o,o),1!==r&&M(o,o,n);for(r=0;r<16;r++)t[r]=o[r]}function z(t,n,r){var o,i,s=new Uint8Array(32),c=new Float64Array(80),l=e(),h=e(),u=e(),f=e(),y=e(),p=e();for(i=0;i<31;i++)s[i]=n[i];for(s[31]=127&n[31]|64,s[0]&=248,k(c,r),i=0;i<16;i++)h[i]=c[i],f[i]=l[i]=u[i]=0;for(l[0]=f[0]=1,i=254;i>=0;--i)j(l,h,o=s[i>>>3]>>>(7&i)&1),j(u,f,o),L(y,l,u),B(l,l,u),L(u,h,f),B(h,h,f),K(f,y),K(p,l),M(l,u,l),M(u,h,y),L(y,l,u),B(l,l,u),K(h,l),B(u,f,p),M(l,u,a),L(l,l,f),M(u,u,l),M(l,f,p),M(f,h,c),K(h,y),j(l,h,o),j(u,f,o);for(i=0;i<16;i++)c[i+16]=l[i],c[i+32]=u[i],c[i+48]=h[i],c[i+64]=f[i];var d=c.subarray(32),g=c.subarray(16);return D(d,d),M(g,g,d),W(t,g),0}function Y(t,e){return z(t,e,o)}function Z(t,e){return n(e,32),Y(t,e)}function J(t,e,n){var o=new Uint8Array(32);return z(o,n,e),R(t,r,o,A)}_.prototype.blocks=function(t,e,n){for(var r,o,i,s,a,c,l,h,u,f,y,p,d,g,w,R,b,A,m,E=this.fin?0:2048,v=this.h[0],O=this.h[1],_=this.h[2],T=this.h[3],N=this.h[4],U=this.h[5],C=this.h[6],S=this.h[7],I=this.h[8],j=this.h[9],W=this.r[0],x=this.r[1],P=this.r[2],k=this.r[3],L=this.r[4],B=this.r[5],M=this.r[6],K=this.r[7],D=this.r[8],Q=this.r[9];n>=16;)f=u=0,f+=(v+=8191&(r=255&t[e+0]|(255&t[e+1])<<8))*W,f+=(O+=8191&(r>>>13|(o=255&t[e+2]|(255&t[e+3])<<8)<<3))*(5*Q),f+=(_+=8191&(o>>>10|(i=255&t[e+4]|(255&t[e+5])<<8)<<6))*(5*D),f+=(T+=8191&(i>>>7|(s=255&t[e+6]|(255&t[e+7])<<8)<<9))*(5*K),u=(f+=(N+=8191&(s>>>4|(a=255&t[e+8]|(255&t[e+9])<<8)<<12))*(5*M))>>>13,f&=8191,f+=(U+=a>>>1&8191)*(5*B),f+=(C+=8191&(a>>>14|(c=255&t[e+10]|(255&t[e+11])<<8)<<2))*(5*L),f+=(S+=8191&(c>>>11|(l=255&t[e+12]|(255&t[e+13])<<8)<<5))*(5*k),f+=(I+=8191&(l>>>8|(h=255&t[e+14]|(255&t[e+15])<<8)<<8))*(5*P),y=u+=(f+=(j+=h>>>5|E)*(5*x))>>>13,y+=v*x,y+=O*W,y+=_*(5*Q),y+=T*(5*D),u=(y+=N*(5*K))>>>13,y&=8191,y+=U*(5*M),y+=C*(5*B),y+=S*(5*L),y+=I*(5*k),u+=(y+=j*(5*P))>>>13,y&=8191,p=u,p+=v*P,p+=O*x,p+=_*W,p+=T*(5*Q),u=(p+=N*(5*D))>>>13,p&=8191,p+=U*(5*K),p+=C*(5*M),p+=S*(5*B),p+=I*(5*L),d=u+=(p+=j*(5*k))>>>13,d+=v*k,d+=O*P,d+=_*x,d+=T*W,u=(d+=N*(5*Q))>>>13,d&=8191,d+=U*(5*D),d+=C*(5*K),d+=S*(5*M),d+=I*(5*B),g=u+=(d+=j*(5*L))>>>13,g+=v*L,g+=O*k,g+=_*P,g+=T*x,u=(g+=N*W)>>>13,g&=8191,g+=U*(5*Q),g+=C*(5*D),g+=S*(5*K),g+=I*(5*M),w=u+=(g+=j*(5*B))>>>13,w+=v*B,w+=O*L,w+=_*k,w+=T*P,u=(w+=N*x)>>>13,w&=8191,w+=U*W,w+=C*(5*Q),w+=S*(5*D),w+=I*(5*K),R=u+=(w+=j*(5*M))>>>13,R+=v*M,R+=O*B,R+=_*L,R+=T*k,u=(R+=N*P)>>>13,R&=8191,R+=U*x,R+=C*W,R+=S*(5*Q),R+=I*(5*D),b=u+=(R+=j*(5*K))>>>13,b+=v*K,b+=O*M,b+=_*B,b+=T*L,u=(b+=N*k)>>>13,b&=8191,b+=U*P,b+=C*x,b+=S*W,b+=I*(5*Q),A=u+=(b+=j*(5*D))>>>13,A+=v*D,A+=O*K,A+=_*M,A+=T*B,u=(A+=N*L)>>>13,A&=8191,A+=U*k,A+=C*P,A+=S*x,A+=I*W,m=u+=(A+=j*(5*Q))>>>13,m+=v*Q,m+=O*D,m+=_*K,m+=T*M,u=(m+=N*B)>>>13,m&=8191,m+=U*L,m+=C*k,m+=S*P,m+=I*x,v=f=8191&(u=(u=((u+=(m+=j*W)>>>13)<<2)+u|0)+(f&=8191)|0),O=y+=u>>>=13,_=p&=8191,T=d&=8191,N=g&=8191,U=w&=8191,C=R&=8191,S=b&=8191,I=A&=8191,j=m&=8191,e+=16,n-=16;this.h[0]=v,this.h[1]=O,this.h[2]=_,this.h[3]=T,this.h[4]=N,this.h[5]=U,this.h[6]=C,this.h[7]=S,this.h[8]=I,this.h[9]=j},_.prototype.finish=function(t,e){var n,r,o,i,s=new Uint16Array(10);if(this.leftover){for(i=this.leftover,this.buffer[i++]=1;i<16;i++)this.buffer[i]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,i=2;i<10;i++)this.h[i]+=n,n=this.h[i]>>>13,this.h[i]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,s[0]=this.h[0]+5,n=s[0]>>>13,s[0]&=8191,i=1;i<10;i++)s[i]=this.h[i]+n,n=s[i]>>>13,s[i]&=8191;for(s[9]-=8192,r=(1^n)-1,i=0;i<10;i++)s[i]&=r;for(r=~r,i=0;i<10;i++)this.h[i]=this.h[i]&r|s[i];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),o=this.h[0]+this.pad[0],this.h[0]=65535&o,i=1;i<8;i++)o=(this.h[i]+this.pad[i]|0)+(o>>>16)|0,this.h[i]=65535&o;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},_.prototype.update=function(t,e,n){var r,o;if(this.leftover){for((o=16-this.leftover)>n&&(o=n),r=0;r<o;r++)this.buffer[this.leftover+r]=t[e+r];if(n-=o,e+=o,this.leftover+=o,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(o=n-n%16,this.blocks(t,e,o),e+=o,n-=o),n){for(r=0;r<n;r++)this.buffer[this.leftover+r]=t[e+r];this.leftover+=n}};var F=U,G=C,V=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function H(t,e,n,r){for(var o,i,s,a,c,l,h,u,f,y,p,d,g,w,R,b,A,m,E,v,O,_,T,N,U,C,S=new Int32Array(16),I=new Int32Array(16),j=t[0],W=t[1],x=t[2],P=t[3],k=t[4],L=t[5],B=t[6],M=t[7],K=e[0],D=e[1],Q=e[2],z=e[3],Y=e[4],Z=e[5],J=e[6],F=e[7],G=0;r>=128;){for(E=0;E<16;E++)v=8*E+G,S[E]=n[v+0]<<24|n[v+1]<<16|n[v+2]<<8|n[v+3],I[E]=n[v+4]<<24|n[v+5]<<16|n[v+6]<<8|n[v+7];for(E=0;E<80;E++)if(o=j,i=W,s=x,a=P,c=k,l=L,h=B,f=K,y=D,p=Q,d=z,g=Y,w=Z,R=J,T=65535&(_=F),N=_>>>16,U=65535&(O=M),C=O>>>16,T+=65535&(_=(Y>>>14|k<<18)^(Y>>>18|k<<14)^(k>>>9|Y<<23)),N+=_>>>16,U+=65535&(O=(k>>>14|Y<<18)^(k>>>18|Y<<14)^(Y>>>9|k<<23)),C+=O>>>16,T+=65535&(_=Y&Z^~Y&J),N+=_>>>16,U+=65535&(O=k&L^~k&B),C+=O>>>16,T+=65535&(_=V[2*E+1]),N+=_>>>16,U+=65535&(O=V[2*E]),C+=O>>>16,O=S[E%16],N+=(_=I[E%16])>>>16,U+=65535&O,C+=O>>>16,U+=(N+=(T+=65535&_)>>>16)>>>16,T=65535&(_=m=65535&T|N<<16),N=_>>>16,U=65535&(O=A=65535&U|(C+=U>>>16)<<16),C=O>>>16,T+=65535&(_=(K>>>28|j<<4)^(j>>>2|K<<30)^(j>>>7|K<<25)),N+=_>>>16,U+=65535&(O=(j>>>28|K<<4)^(K>>>2|j<<30)^(K>>>7|j<<25)),C+=O>>>16,N+=(_=K&D^K&Q^D&Q)>>>16,U+=65535&(O=j&W^j&x^W&x),C+=O>>>16,u=65535&(U+=(N+=(T+=65535&_)>>>16)>>>16)|(C+=U>>>16)<<16,b=65535&T|N<<16,T=65535&(_=d),N=_>>>16,U=65535&(O=a),C=O>>>16,N+=(_=m)>>>16,U+=65535&(O=A),C+=O>>>16,W=o,x=i,P=s,k=a=65535&(U+=(N+=(T+=65535&_)>>>16)>>>16)|(C+=U>>>16)<<16,L=c,B=l,M=h,j=u,D=f,Q=y,z=p,Y=d=65535&T|N<<16,Z=g,J=w,F=R,K=b,E%16==15)for(v=0;v<16;v++)O=S[v],T=65535&(_=I[v]),N=_>>>16,U=65535&O,C=O>>>16,O=S[(v+9)%16],T+=65535&(_=I[(v+9)%16]),N+=_>>>16,U+=65535&O,C+=O>>>16,A=S[(v+1)%16],T+=65535&(_=((m=I[(v+1)%16])>>>1|A<<31)^(m>>>8|A<<24)^(m>>>7|A<<25)),N+=_>>>16,U+=65535&(O=(A>>>1|m<<31)^(A>>>8|m<<24)^A>>>7),C+=O>>>16,A=S[(v+14)%16],N+=(_=((m=I[(v+14)%16])>>>19|A<<13)^(A>>>29|m<<3)^(m>>>6|A<<26))>>>16,U+=65535&(O=(A>>>19|m<<13)^(m>>>29|A<<3)^A>>>6),C+=O>>>16,C+=(U+=(N+=(T+=65535&_)>>>16)>>>16)>>>16,S[v]=65535&U|C<<16,I[v]=65535&T|N<<16;T=65535&(_=K),N=_>>>16,U=65535&(O=j),C=O>>>16,O=t[0],N+=(_=e[0])>>>16,U+=65535&O,C+=O>>>16,C+=(U+=(N+=(T+=65535&_)>>>16)>>>16)>>>16,t[0]=j=65535&U|C<<16,e[0]=K=65535&T|N<<16,T=65535&(_=D),N=_>>>16,U=65535&(O=W),C=O>>>16,O=t[1],N+=(_=e[1])>>>16,U+=65535&O,C+=O>>>16,C+=(U+=(N+=(T+=65535&_)>>>16)>>>16)>>>16,t[1]=W=65535&U|C<<16,e[1]=D=65535&T|N<<16,T=65535&(_=Q),N=_>>>16,U=65535&(O=x),C=O>>>16,O=t[2],N+=(_=e[2])>>>16,U+=65535&O,C+=O>>>16,C+=(U+=(N+=(T+=65535&_)>>>16)>>>16)>>>16,t[2]=x=65535&U|C<<16,e[2]=Q=65535&T|N<<16,T=65535&(_=z),N=_>>>16,U=65535&(O=P),C=O>>>16,O=t[3],N+=(_=e[3])>>>16,U+=65535&O,C+=O>>>16,C+=(U+=(N+=(T+=65535&_)>>>16)>>>16)>>>16,t[3]=P=65535&U|C<<16,e[3]=z=65535&T|N<<16,T=65535&(_=Y),N=_>>>16,U=65535&(O=k),C=O>>>16,O=t[4],N+=(_=e[4])>>>16,U+=65535&O,C+=O>>>16,C+=(U+=(N+=(T+=65535&_)>>>16)>>>16)>>>16,t[4]=k=65535&U|C<<16,e[4]=Y=65535&T|N<<16,T=65535&(_=Z),N=_>>>16,U=65535&(O=L),C=O>>>16,O=t[5],N+=(_=e[5])>>>16,U+=65535&O,C+=O>>>16,C+=(U+=(N+=(T+=65535&_)>>>16)>>>16)>>>16,t[5]=L=65535&U|C<<16,e[5]=Z=65535&T|N<<16,T=65535&(_=J),N=_>>>16,U=65535&(O=B),C=O>>>16,O=t[6],N+=(_=e[6])>>>16,U+=65535&O,C+=O>>>16,C+=(U+=(N+=(T+=65535&_)>>>16)>>>16)>>>16,t[6]=B=65535&U|C<<16,e[6]=J=65535&T|N<<16,T=65535&(_=F),N=_>>>16,U=65535&(O=M),C=O>>>16,O=t[7],N+=(_=e[7])>>>16,U+=65535&O,C+=O>>>16,C+=(U+=(N+=(T+=65535&_)>>>16)>>>16)>>>16,t[7]=M=65535&U|C<<16,e[7]=F=65535&T|N<<16,G+=128,r-=128}return r}function q(t,e,n){var r,o=new Int32Array(8),i=new Int32Array(8),s=new Uint8Array(256),a=n;for(o[0]=1779033703,o[1]=3144134277,o[2]=1013904242,o[3]=2773480762,o[4]=1359893119,o[5]=2600822924,o[6]=528734635,o[7]=1541459225,i[0]=4089235720,i[1]=2227873595,i[2]=4271175723,i[3]=1595750129,i[4]=2917565137,i[5]=725511199,i[6]=4215389547,i[7]=327033209,H(o,i,e,n),n%=128,r=0;r<n;r++)s[r]=e[a-n+r];for(s[n]=128,s[(n=256-128*(n<112?1:0))-9]=0,y(s,n-8,a/536870912|0,a<<3),H(o,i,s,n),r=0;r<8;r++)y(t,8*r,o[r],i[r]);return 0}function X(t,n){var r=e(),o=e(),i=e(),s=e(),a=e(),c=e(),h=e(),u=e(),f=e();B(r,t[1],t[0]),B(f,n[1],n[0]),M(r,r,f),L(o,t[0],t[1]),L(f,n[0],n[1]),M(o,o,f),M(i,t[3],n[3]),M(i,i,l),M(s,t[2],n[2]),L(s,s,s),B(a,o,r),B(c,s,i),L(h,s,i),L(u,o,r),M(t[0],a,c),M(t[1],u,h),M(t[2],h,c),M(t[3],a,u)}function $(t,e,n){var r;for(r=0;r<4;r++)j(t[r],e[r],n)}function tt(t,n){var r=e(),o=e(),i=e();D(i,n[2]),M(r,n[0],i),M(o,n[1],i),W(t,o),t[31]^=P(r)<<7}function et(t,e,n){var r,o;for(S(t[0],i),S(t[1],s),S(t[2],s),S(t[3],i),o=255;o>=0;--o)$(t,e,r=n[o/8|0]>>(7&o)&1),X(e,t),X(t,t),$(t,e,r)}function nt(t,n){var r=[e(),e(),e(),e()];S(r[0],h),S(r[1],u),S(r[2],s),M(r[3],h,u),et(t,r,n)}function rt(t,r,o){var i,s=new Uint8Array(64),a=[e(),e(),e(),e()];for(o||n(r,32),q(s,r,32),s[0]&=248,s[31]&=127,s[31]|=64,nt(a,s),tt(t,a),i=0;i<32;i++)r[i+32]=t[i];return 0}var ot=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function it(t,e){var n,r,o,i;for(r=63;r>=32;--r){for(n=0,o=r-32,i=r-12;o<i;++o)e[o]+=n-16*e[r]*ot[o-(r-32)],n=Math.floor((e[o]+128)/256),e[o]-=256*n;e[o]+=n,e[r]=0}for(n=0,o=0;o<32;o++)e[o]+=n-(e[31]>>4)*ot[o],n=e[o]>>8,e[o]&=255;for(o=0;o<32;o++)e[o]-=n*ot[o];for(r=0;r<32;r++)e[r+1]+=e[r]>>8,t[r]=255&e[r]}function st(t){var e,n=new Float64Array(64);for(e=0;e<64;e++)n[e]=t[e];for(e=0;e<64;e++)t[e]=0;it(t,n)}function at(t,n,r,o){var i,s,a=new Uint8Array(64),c=new Uint8Array(64),l=new Uint8Array(64),h=new Float64Array(64),u=[e(),e(),e(),e()];q(a,o,32),a[0]&=248,a[31]&=127,a[31]|=64;var f=r+64;for(i=0;i<r;i++)t[64+i]=n[i];for(i=0;i<32;i++)t[32+i]=a[32+i];for(q(l,t.subarray(32),r+32),st(l),nt(u,l),tt(t,u),i=32;i<64;i++)t[i]=o[i];for(q(c,t,r+64),st(c),i=0;i<64;i++)h[i]=0;for(i=0;i<32;i++)h[i]=l[i];for(i=0;i<32;i++)for(s=0;s<32;s++)h[i+s]+=c[i]*a[s];return it(t.subarray(32),h),f}function ct(t,n,r,o){var a,l=new Uint8Array(32),h=new Uint8Array(64),u=[e(),e(),e(),e()],y=[e(),e(),e(),e()];if(r<64)return-1;if(function(t,n){var r=e(),o=e(),a=e(),l=e(),h=e(),u=e(),y=e();return S(t[2],s),k(t[1],n),K(a,t[1]),M(l,a,c),B(a,a,t[2]),L(l,t[2],l),K(h,l),K(u,h),M(y,u,h),M(r,y,a),M(r,r,l),Q(r,r),M(r,r,a),M(r,r,l),M(r,r,l),M(t[0],r,l),K(o,t[0]),M(o,o,l),x(o,a)&&M(t[0],t[0],f),K(o,t[0]),M(o,o,l),x(o,a)?-1:(P(t[0])===n[31]>>7&&B(t[0],i,t[0]),M(t[3],t[0],t[1]),0)}(y,o))return-1;for(a=0;a<r;a++)t[a]=n[a];for(a=0;a<32;a++)t[a+32]=o[a];if(q(h,t,r),st(h),et(u,y,h),nt(y,n.subarray(32)),X(u,y),tt(l,u),r-=64,g(n,0,l,0)){for(a=0;a<r;a++)t[a]=0;return-1}for(a=0;a<r;a++)t[a]=n[a+64];return r}var lt,ht=16,ut=64,ft=32,yt=64;function pt(t,e){if(32!==t.length)throw new Error("bad key size");if(24!==e.length)throw new Error("bad nonce size")}function dt(){for(var t=0;t<arguments.length;t++)if(!(arguments[t]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function gt(t){for(var e=0;e<t.length;e++)t[e]=0}t.lowlevel={crypto_core_hsalsa20:R,crypto_stream_xor:O,crypto_stream:v,crypto_stream_salsa20_xor:m,crypto_stream_salsa20:E,crypto_onetimeauth:T,crypto_onetimeauth_verify:N,crypto_verify_16:d,crypto_verify_32:g,crypto_secretbox:U,crypto_secretbox_open:C,crypto_scalarmult:z,crypto_scalarmult_base:Y,crypto_box_beforenm:J,crypto_box_afternm:F,crypto_box:function(t,e,n,r,o,i){var s=new Uint8Array(32);return J(s,o,i),F(t,e,n,r,s)},crypto_box_open:function(t,e,n,r,o,i){var s=new Uint8Array(32);return J(s,o,i),G(t,e,n,r,s)},crypto_box_keypair:Z,crypto_hash:q,crypto_sign:at,crypto_sign_keypair:rt,crypto_sign_open:ct,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:ht,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:ut,crypto_sign_PUBLICKEYBYTES:ft,crypto_sign_SECRETKEYBYTES:yt,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:e,D:c,L:ot,pack25519:W,unpack25519:k,M:M,A:L,S:K,Z:B,pow2523:Q,add:X,set25519:S,modL:it,scalarmult:et,scalarbase:nt},t.randomBytes=function(t){var e=new Uint8Array(t);return n(e,t),e},t.secretbox=function(t,e,n){dt(t,e,n),pt(n,e);for(var r=new Uint8Array(32+t.length),o=new Uint8Array(r.length),i=0;i<t.length;i++)r[i+32]=t[i];return U(o,r,r.length,e,n),o.subarray(ht)},t.secretbox.open=function(t,e,n){dt(t,e,n),pt(n,e);for(var r=new Uint8Array(ht+t.length),o=new Uint8Array(r.length),i=0;i<t.length;i++)r[i+ht]=t[i];return r.length<32||0!==C(o,r,r.length,e,n)?null:o.subarray(32)},t.secretbox.keyLength=32,t.secretbox.nonceLength=24,t.secretbox.overheadLength=ht,t.scalarMult=function(t,e){if(dt(t,e),32!==t.length)throw new Error("bad n size");if(32!==e.length)throw new Error("bad p size");var n=new Uint8Array(32);return z(n,t,e),n},t.scalarMult.base=function(t){if(dt(t),32!==t.length)throw new Error("bad n size");var e=new Uint8Array(32);return Y(e,t),e},t.scalarMult.scalarLength=32,t.scalarMult.groupElementLength=32,t.box=function(e,n,r,o){var i=t.box.before(r,o);return t.secretbox(e,n,i)},t.box.before=function(t,e){dt(t,e),function(t,e){if(32!==t.length)throw new Error("bad public key size");if(32!==e.length)throw new Error("bad secret key size")}(t,e);var n=new Uint8Array(32);return J(n,t,e),n},t.box.after=t.secretbox,t.box.open=function(e,n,r,o){var i=t.box.before(r,o);return t.secretbox.open(e,n,i)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(32);return Z(t,e),{publicKey:t,secretKey:e}},t.box.keyPair.fromSecretKey=function(t){if(dt(t),32!==t.length)throw new Error("bad secret key size");var e=new Uint8Array(32);return Y(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},t.box.publicKeyLength=32,t.box.secretKeyLength=32,t.box.sharedKeyLength=32,t.box.nonceLength=24,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(t,e){if(dt(t,e),e.length!==yt)throw new Error("bad secret key size");var n=new Uint8Array(ut+t.length);return at(n,t,t.length,e),n},t.sign.open=function(t,e){if(dt(t,e),e.length!==ft)throw new Error("bad public key size");var n=new Uint8Array(t.length),r=ct(n,t,t.length,e);if(r<0)return null;for(var o=new Uint8Array(r),i=0;i<o.length;i++)o[i]=n[i];return o},t.sign.detached=function(e,n){for(var r=t.sign(e,n),o=new Uint8Array(ut),i=0;i<o.length;i++)o[i]=r[i];return o},t.sign.detached.verify=function(t,e,n){if(dt(t,e,n),e.length!==ut)throw new Error("bad signature size");if(n.length!==ft)throw new Error("bad public key size");var r,o=new Uint8Array(ut+t.length),i=new Uint8Array(ut+t.length);for(r=0;r<ut;r++)o[r]=e[r];for(r=0;r<t.length;r++)o[r+ut]=t[r];return ct(i,o,o.length,n)>=0},t.sign.keyPair=function(){var t=new Uint8Array(ft),e=new Uint8Array(yt);return rt(t,e),{publicKey:t,secretKey:e}},t.sign.keyPair.fromSecretKey=function(t){if(dt(t),t.length!==yt)throw new Error("bad secret key size");for(var e=new Uint8Array(ft),n=0;n<e.length;n++)e[n]=t[32+n];return{publicKey:e,secretKey:new Uint8Array(t)}},t.sign.keyPair.fromSeed=function(t){if(dt(t),32!==t.length)throw new Error("bad seed size");for(var e=new Uint8Array(ft),n=new Uint8Array(yt),r=0;r<32;r++)n[r]=t[r];return rt(e,n,!0),{publicKey:e,secretKey:n}},t.sign.publicKeyLength=ft,t.sign.secretKeyLength=yt,t.sign.seedLength=32,t.sign.signatureLength=ut,t.hash=function(t){dt(t);var e=new Uint8Array(64);return q(e,t,t.length),e},t.hash.hashLength=64,t.verify=function(t,e){return dt(t,e),0!==t.length&&0!==e.length&&t.length===e.length&&0===p(t,0,e,0,t.length)},t.setPRNG=function(t){n=t},(lt="undefined"!=typeof self?self.crypto||self.msCrypto:null)&&lt.getRandomValues?t.setPRNG((function(t,e){var n,r=new Uint8Array(e);for(n=0;n<e;n+=65536)lt.getRandomValues(r.subarray(n,n+Math.min(e-n,65536)));for(n=0;n<e;n++)t[n]=r[n];gt(r)})):(lt=b)&&lt.randomBytes&&t.setPRNG((function(t,e){var n,r=lt.randomBytes(e);for(n=0;n<e;n++)t[n]=r[n];gt(r)}))}(R.exports?R.exports:self.nacl=self.nacl||{});const A=y(R.exports);var m,E,v,O,_,T,N,U,C,S,I,j;function W(t){let e="";return t.forEach((t=>{e+=("0"+(255&t).toString(16)).slice(-2)})),e}function x(t){if(t.length%2!=0)throw new Error(`Cannot convert ${t} to bytesArray`);const e=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2)e[n/2]=parseInt(t.slice(n,n+2),16);return e}(E=m||(m={}))[E.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",E[E.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",E[E.MANIFEST_NOT_FOUND_ERROR=2]="MANIFEST_NOT_FOUND_ERROR",E[E.MANIFEST_CONTENT_ERROR=3]="MANIFEST_CONTENT_ERROR",E[E.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",E[E.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",E[E.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",(O=v||(v={}))[O.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",O[O.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",(T=_||(_={}))[T.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",T[T.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",T[T.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",T[T.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",T[T.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",(U=N||(N={}))[U.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",U[U.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",U[U.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",U[U.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",U[U.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",(S=C||(C={}))[S.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",S[S.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",S[S.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",S[S.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",(j=I||(I={})).MAINNET="-239",j.TESTNET="-3";class P{constructor(t){this.nonceLength=24,this.keyPair=t?this.createKeypairFromString(t):this.createKeypair(),this.sessionId=W(this.keyPair.publicKey)}createKeypair(){return A.box.keyPair()}createKeypairFromString(t){return{publicKey:x(t.publicKey),secretKey:x(t.secretKey)}}createNonce(){return A.randomBytes(this.nonceLength)}encrypt(t,e){const n=(new TextEncoder).encode(t),r=this.createNonce();return function(t,e){const n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}(r,A.box(n,r,e,this.keyPair.secretKey))}decrypt(t,e){const[n,r]=function(t,e){if(e>=t.length)throw new Error("Index is out of buffer");return[t.slice(0,e),t.slice(e)]}(t,this.nonceLength),o=A.box.open(r,n,e,this.keyPair.secretKey);if(!o)throw new Error(`Decryption error: \n message: ${t.toString()} \n sender pubkey: ${e.toString()} \n keypair pubkey: ${this.keyPair.publicKey.toString()} \n keypair secretkey: ${this.keyPair.secretKey.toString()}`);return(new TextDecoder).decode(o)}stringifyKeypair(){return{publicKey:W(this.keyPair.publicKey),secretKey:W(this.keyPair.secretKey)}}}function k(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(e){i(e)}}function a(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))}class L extends Error{constructor(t,e){super(t,e),this.message=`${L.prefix} ${this.constructor.name}${this.info?": "+this.info:""}${t?"\n"+t:""}`,Object.setPrototypeOf(this,L.prototype)}get info(){return""}}L.prefix="[TON_CONNECT_SDK_ERROR]";class B extends L{get info(){return"There is an attempt to connect to the injected wallet while it is not exists in the webpage."}constructor(...t){super(...t),Object.setPrototypeOf(this,B.prototype)}}class M extends L{get info(){return"An error occurred while fetching the wallets list."}constructor(...t){super(...t),Object.setPrototypeOf(this,M.prototype)}}function K(...t){try{console.debug("[TON_CONNECT_SDK]",...t)}catch(e){}}function D(...t){try{console.error("[TON_CONNECT_SDK]",...t)}catch(e){}}function Q(t){return!("connectEvent"in t)}m.UNKNOWN_ERROR,m.USER_REJECTS_ERROR,m.BAD_REQUEST_ERROR,m.UNKNOWN_APP_ERROR,m.MANIFEST_NOT_FOUND_ERROR,m.MANIFEST_CONTENT_ERROR,_.UNKNOWN_ERROR,_.USER_REJECTS_ERROR,_.BAD_REQUEST_ERROR,_.UNKNOWN_APP_ERROR;class z{constructor(t){this.storage=t,this.storeKey="ton-connect-storage_bridge-connection"}storeConnection(t){return k(this,void 0,void 0,(function*(){if("injected"===t.type)return this.storage.setItem(this.storeKey,JSON.stringify(t));if(!Q(t)){const e={sessionKeyPair:t.session.sessionCrypto.stringifyKeypair(),walletPublicKey:t.session.walletPublicKey,bridgeUrl:t.session.bridgeUrl},n={type:"http",connectEvent:t.connectEvent,session:e,lastWalletEventId:t.lastWalletEventId,nextRpcRequestId:t.nextRpcRequestId};return this.storage.setItem(this.storeKey,JSON.stringify(n))}const e={type:"http",connectionSource:t.connectionSource,sessionCrypto:t.sessionCrypto.stringifyKeypair()};return this.storage.setItem(this.storeKey,JSON.stringify(e))}))}removeConnection(){return k(this,void 0,void 0,(function*(){return this.storage.removeItem(this.storeKey)}))}getConnection(){return k(this,void 0,void 0,(function*(){const t=yield this.storage.getItem(this.storeKey);if(!t)return null;const e=JSON.parse(t);if("injected"===e.type)return e;if("connectEvent"in e){const t=new P(e.session.sessionKeyPair);return{type:"http",connectEvent:e.connectEvent,lastWalletEventId:e.lastWalletEventId,nextRpcRequestId:e.nextRpcRequestId,session:{sessionCrypto:t,bridgeUrl:e.session.bridgeUrl,walletPublicKey:e.session.walletPublicKey}}}return{type:"http",sessionCrypto:new P(e.sessionCrypto),connectionSource:e.connectionSource}}))}getHttpConnection(){return k(this,void 0,void 0,(function*(){const t=yield this.getConnection();if(!t)throw new L("Trying to read HTTP connection source while nothing is stored");if("injected"===t.type)throw new L("Trying to read HTTP connection source while injected connection is stored");return t}))}getHttpPendingConnection(){return k(this,void 0,void 0,(function*(){const t=yield this.getConnection();if(!t)throw new L("Trying to read HTTP connection source while nothing is stored");if("injected"===t.type)throw new L("Trying to read HTTP connection source while injected connection is stored");if(!Q(t))throw new L("Trying to read HTTP-pending connection while http connection is stored");return t}))}getInjectedConnection(){return k(this,void 0,void 0,(function*(){const t=yield this.getConnection();if(!t)throw new L("Trying to read Injected bridge connection source while nothing is stored");if("http"===(null==t?void 0:t.type))throw new L("Trying to read Injected bridge connection source while HTTP connection is stored");return t}))}storedConnectionType(){return k(this,void 0,void 0,(function*(){const t=yield this.storage.getItem(this.storeKey);if(!t)return null;return JSON.parse(t).type}))}storeLastWalletEventId(t){return k(this,void 0,void 0,(function*(){const e=yield this.getConnection();if(e&&"http"===e.type&&!Q(e))return e.lastWalletEventId=t,this.storeConnection(e)}))}getLastWalletEventId(){return k(this,void 0,void 0,(function*(){const t=yield this.getConnection();if(t&&"lastWalletEventId"in t)return t.lastWalletEventId}))}increaseNextRpcRequestId(){return k(this,void 0,void 0,(function*(){const t=yield this.getConnection();if(t&&"nextRpcRequestId"in t){const e=t.nextRpcRequestId||0;return t.nextRpcRequestId=e+1,this.storeConnection(t)}}))}getNextRpcRequestId(){return k(this,void 0,void 0,(function*(){const t=yield this.getConnection();return t&&"nextRpcRequestId"in t&&t.nextRpcRequestId||0}))}}function Y(t,e){return Z(t,[e])}function Z(t,e){return!(!t||"object"!=typeof t)&&e.every((e=>e in t))}function J(){if("undefined"!=typeof window)return window}class F{constructor(t,e){this.injectedWalletKey=e,this.type="injected",this.unsubscribeCallback=null,this.listenSubscriptions=!1,this.listeners=[];const n=F.window;if(!F.isWindowContainsWallet(n,e))throw new B;this.connectionStorage=new z(t),this.injectedWallet=n[e].tonconnect}static fromStorage(t){return k(this,void 0,void 0,(function*(){const e=new z(t),n=yield e.getInjectedConnection();return new F(t,n.jsBridgeKey)}))}static isWalletInjected(t){return F.isWindowContainsWallet(this.window,t)}static isInsideWalletBrowser(t){return!!F.isWindowContainsWallet(this.window,t)&&this.window[t].tonconnect.isWalletBrowser}static getCurrentlyInjectedWallets(){if(!this.window)return[];return function(){const t=J();if(!t)return[];try{return Object.keys(t)}catch(e){return[]}}().filter((([t,e])=>function(t){try{return!(!Y(t,"tonconnect")||!Y(t.tonconnect,"walletInfo"))&&Z(t.tonconnect.walletInfo,["name","app_name","image","about_url","platforms"])}catch(e){return!1}}(e))).map((([t,e])=>({name:e.tonconnect.walletInfo.name,appName:e.tonconnect.walletInfo.app_name,aboutUrl:e.tonconnect.walletInfo.about_url,imageUrl:e.tonconnect.walletInfo.image,tondns:e.tonconnect.walletInfo.tondns,jsBridgeKey:t,injected:!0,embedded:e.tonconnect.isWalletBrowser,platforms:e.tonconnect.walletInfo.platforms})))}static isWindowContainsWallet(t,e){return!!t&&e in t&&"object"==typeof t[e]&&"tonconnect"in t[e]}connect(t){this._connect(2,t)}restoreConnection(){return k(this,void 0,void 0,(function*(){try{K("Injected Provider restoring connection...");const t=yield this.injectedWallet.restoreConnection();K("Injected Provider restoring connection response",t),"connect"===t.event?(this.makeSubscriptions(),this.listeners.forEach((e=>e(t)))):yield this.connectionStorage.removeConnection()}catch(t){yield this.connectionStorage.removeConnection(),console.error(t)}}))}closeConnection(){this.listenSubscriptions&&this.injectedWallet.disconnect(),this.closeAllListeners()}disconnect(){return k(this,void 0,void 0,(function*(){return new Promise((t=>{const e=()=>{this.closeAllListeners(),this.connectionStorage.removeConnection().then(t)};try{this.injectedWallet.disconnect(),e()}catch(n){K(n),this.sendRequest({method:"disconnect",params:[]},e)}}))}))}closeAllListeners(){var t;this.listenSubscriptions=!1,this.listeners=[],null===(t=this.unsubscribeCallback)||void 0===t||t.call(this)}listen(t){return this.listeners.push(t),()=>this.listeners=this.listeners.filter((e=>e!==t))}sendRequest(t,e){var n;return k(this,void 0,void 0,(function*(){const r={};"function"==typeof e?r.onRequestSent=e:(r.onRequestSent=null==e?void 0:e.onRequestSent,r.signal=null==e?void 0:e.signal);const o=(yield this.connectionStorage.getNextRpcRequestId()).toString();yield this.connectionStorage.increaseNextRpcRequestId(),K("Send injected-bridge request:",Object.assign(Object.assign({},t),{id:o}));const i=this.injectedWallet.send(Object.assign(Object.assign({},t),{id:o}));return i.then((t=>K("Wallet message received:",t))),null===(n=null==r?void 0:r.onRequestSent)||void 0===n||n.call(r),i}))}_connect(t,e){return k(this,void 0,void 0,(function*(){try{K(`Injected Provider connect request: protocolVersion: ${t}, message:`,e);const n=yield this.injectedWallet.connect(t,e);K("Injected Provider connect response:",n),"connect"===n.event&&(yield this.updateSession(),this.makeSubscriptions()),this.listeners.forEach((t=>t(n)))}catch(n){K("Injected Provider connect error:",n);const t={event:"connect_error",payload:{code:0,message:null==n?void 0:n.toString()}};this.listeners.forEach((e=>e(t)))}}))}makeSubscriptions(){this.listenSubscriptions=!0,this.unsubscribeCallback=this.injectedWallet.listen((t=>{K("Wallet message received:",t),this.listenSubscriptions&&this.listeners.forEach((e=>e(t))),"disconnect"===t.event&&this.disconnect()}))}updateSession(){return this.connectionStorage.storeConnection({type:"injected",jsBridgeKey:this.injectedWalletKey,nextRpcRequestId:0})}}function G(t){return function(t){return function(t){return"jsBridgeKey"in t}(t)&&t.injected}(t)&&t.embedded}F.window=J();const V=[{app_name:"telegram-wallet",name:"Wallet",image:"https://wallet.tg/images/logo-288.png",about_url:"https://wallet.tg/",universal_url:"https://t.me/wallet?attach=wallet",bridge:[{type:"sse",url:"https://bridge.tonapi.io/bridge"}],platforms:["ios","android","macos","windows","linux"]},{app_name:"tonkeeper",name:"Tonkeeper",image:"https://tonkeeper.com/assets/tonconnect-icon.png",tondns:"tonkeeper.ton",about_url:"https://tonkeeper.com",universal_url:"https://app.tonkeeper.com/ton-connect",deepLink:"tonkeeper-tc://",bridge:[{type:"sse",url:"https://bridge.tonapi.io/bridge"},{type:"js",key:"tonkeeper"}],platforms:["ios","android","chrome","firefox","macos"]},{app_name:"mytonwallet",name:"MyTonWallet",image:"https://mytonwallet.io/icon-256.png",about_url:"https://mytonwallet.io",universal_url:"https://connect.mytonwallet.org",bridge:[{type:"js",key:"mytonwallet"},{type:"sse",url:"https://tonconnectbridge.mytonwallet.org/bridge/"}],platforms:["chrome","windows","macos","linux","ios","android","firefox"]},{app_name:"openmask",name:"OpenMask",image:"https://raw.githubusercontent.com/OpenProduct/openmask-extension/main/public/openmask-logo-288.png",about_url:"https://www.openmask.app/",bridge:[{type:"js",key:"openmask"}],platforms:["chrome"]},{app_name:"tonhub",name:"Tonhub",image:"https://tonhub.com/tonconnect_logo.png",about_url:"https://tonhub.com",universal_url:"https://tonhub.com/ton-connect",bridge:[{type:"js",key:"tonhub"},{type:"sse",url:"https://connect.tonhubapi.com/tonconnect"}],platforms:["ios","android"]},{app_name:"dewallet",name:"DeWallet",image:"https://app.delabwallet.com/logo_black.png",about_url:"https://delabwallet.com",bridge:[{type:"js",key:"dewallet"}],platforms:["chrome"]},{app_name:"xtonwallet",name:"XTONWallet",image:"https://xtonwallet.com/assets/img/icon-256-back.png",about_url:"https://xtonwallet.com",bridge:[{type:"js",key:"xtonwallet"}],platforms:["chrome","firefox"]},{app_name:"tonwallet",name:"TON Wallet",image:"https://wallet.ton.org/assets/ui/qr-logo.png",about_url:"https://chrome.google.com/webstore/detail/ton-wallet/nphplpgoakhhjchkkhmiggakijnkhfnd",bridge:[{type:"js",key:"tonwallet"}],platforms:["chrome"]}];new class{constructor(t){this.walletsListCache=null,this.walletsListCacheCreationTimestamp=null,this.walletsListSource="https://raw.githubusercontent.com/ton-blockchain/wallets-list/main/wallets-v2.json",(null==t?void 0:t.walletsListSource)&&(this.walletsListSource=t.walletsListSource),(null==t?void 0:t.cacheTTLMs)&&(this.cacheTTLMs=t.cacheTTLMs)}getWallets(){return k(this,void 0,void 0,(function*(){return this.cacheTTLMs&&this.walletsListCacheCreationTimestamp&&Date.now()>this.walletsListCacheCreationTimestamp+this.cacheTTLMs&&(this.walletsListCache=null),this.walletsListCache||(this.walletsListCache=this.fetchWalletsList(),this.walletsListCache.then((()=>{this.walletsListCacheCreationTimestamp=Date.now()})).catch((()=>{this.walletsListCache=null,this.walletsListCacheCreationTimestamp=null}))),this.walletsListCache}))}getEmbeddedWallet(){return k(this,void 0,void 0,(function*(){const t=(yield this.getWallets()).filter(G);return 1!==t.length?null:t[0]}))}fetchWalletsList(){return k(this,void 0,void 0,(function*(){let t=[];try{const e=yield fetch(this.walletsListSource);if(t=yield e.json(),!Array.isArray(t))throw new M("Wrong wallets list format, wallets list must be an array.");const n=t.filter((t=>!this.isCorrectWalletConfigDTO(t)));n.length&&(D(`Wallet(s) ${n.map((t=>t.name)).join(", ")} config format is wrong. They were removed from the wallets list.`),t=t.filter((t=>this.isCorrectWalletConfigDTO(t))))}catch(n){D(n),t=V}let e=[];try{e=F.getCurrentlyInjectedWallets()}catch(n){D(n)}return this.mergeWalletsLists(this.walletConfigDTOListToWalletConfigList(t),e)}))}walletConfigDTOListToWalletConfigList(t){return t.map((t=>{const e={name:t.name,appName:t.app_name,imageUrl:t.image,aboutUrl:t.about_url,tondns:t.tondns,platforms:t.platforms};return t.bridge.forEach((n=>{if("sse"===n.type&&(e.bridgeUrl=n.url,e.universalLink=t.universal_url,e.deepLink=t.deepLink),"js"===n.type){const t=n.key;e.jsBridgeKey=t,e.injected=F.isWalletInjected(t),e.embedded=F.isInsideWalletBrowser(t)}})),e}))}mergeWalletsLists(t,e){return[...new Set(t.concat(e).map((t=>t.name))).values()].map((n=>{const r=t.find((t=>t.name===n)),o=e.find((t=>t.name===n));return Object.assign(Object.assign({},r&&Object.assign({},r)),o&&Object.assign({},o))}))}isCorrectWalletConfigDTO(t){if(!t||"object"!=typeof t)return!1;if(!("name"in t&&"image"in t&&"about_url"in t&&"platforms"in t&&"app_name"in t))return!1;if(!t.platforms||!Array.isArray(t.platforms)||!t.platforms.length)return!1;if(!("bridge"in t)||!Array.isArray(t.bridge)||!t.bridge.length)return!1;const e=t.bridge;if(e.some((t=>!t||"object"!=typeof t||!("type"in t))))return!1;const n=e.find((t=>"sse"===t.type));if(n&&(!("url"in n)||!n.url||!t.universal_url))return!1;const r=e.find((t=>"js"===t.type));return!!(!r||"key"in r&&r.key)}};for(let $=0;$<=255;$++){let t=$.toString(16);t.length<2&&(t="0"+t)}const H=(t,e)=>{const n=t.__vccOpts||t;for(const[r,o]of e)n[r]=o;return n},q=H({__name:"ConnectWallet",setup(h){const u=t("0"),f=new TON_CONNECT_UI.TonConnectUI({manifestUrl:"https://minayun456.github.io/my-twa/tonconnect-manifest.json"});async function y(){const t=await f.connectWallet();u.value=t,console.log(t)}return(t,h)=>{const f=a,p=c,d=l;return e(),n(d,null,{default:r((()=>[o(f,{class:"connect-button",onClick:y},{default:r((()=>[i("Connect Wallet")])),_:1}),o(p,null,{default:r((()=>[i(s(u.value),1)])),_:1})])),_:1})}}},[["__scopeId","data-v-dec0651a"]]);const X=H({},[["render",function(t,i){const s=u,a=(c=h("ConnectWallet"),f=q,"string"==typeof c?f:c);var c,f;const y=l;return e(),n(y,{class:"content"},{default:r((()=>[o(s,{class:"logo",src:"data:image/png;base64,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UmVhZHlxyWU8AAADKmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzIgNzkuMTU5Mjg0LCAyMDE2LzA0LzE5LTEzOjEzOjQwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpGRkE0MjcxNTdEQzYxMUU4QkZBOERDOEVCQ0U0NTBGMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpGRkE0MjcxNDdEQzYxMUU4QkZBOERDOEVCQ0U0NTBGMSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxNS41IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QkE4RkFCN0M3REM1MTFFOEJGQThEQzhFQkNFNDUwRjEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QkE4RkFCN0Q3REM1MTFFOEJGQThEQzhFQkNFNDUwRjEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5BZZ+3AAAB1ElEQVR42mJkAALtmZb/GfAAJkIKwIoYiAA4FV1JO0Ylk0hWxILLHTgV6cyywqoIIIAYiQinb8S4iYs036E7esgEJq6ABAGAACImMBmo5m6yDcLlR5gcNnnaumhADWIhJoOTbRC+9ILPa9+o4TWAAAIlyDVAOphCc1SYqGAICNwZxumIidi8NILz2qhBdCyPaOcicgq1wRnYAAFErRKSgZo+GzSOoWpQD1sHsRCjCDnzkpp90DM+If2jUTbqoFEHjZZDpJYroyFESeNmNFHTykEqg8g9bwACCNRiVAYyLgEx1wA7Zu3V9OMhVBt1opajBlsaCh7NZaMOGnXQgFeupHZjKO1CjUbZqINGHTTqoFEHjTpo1EGjDhqMgw342kejUTaahggpoOdg1WiUjTpoODoIvL7tzSBykB5AgPbtGIdBGIYCaBR16swROEQvzT06cxjm1lRFDC0LcpXC+xJzpIdJhOW8e4z359MVWSde1C32xRYasC0mCmascDZzrQz+7NgABAgQINnRY/iUrb5D9v9l9toqCBAgQIAAAQIESAABAgQIEKCD5ZK9QPaMigoCdIJP7NdjOyoIECBAgGQBGjB8zVDjam153T0OqInJbBAWfdg8AExKZVcA71uIAAAAAElFTkSuQmCC"}),o(a)])),_:1})}],["__scopeId","data-v-3780a20a"]]);export{X as default};
